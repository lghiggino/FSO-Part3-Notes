(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{22:function(t,n,e){},24:function(t,n,e){},44:function(t,n,e){"use strict";e.r(n);var c=e(2),o=e(17),r=e.n(o),a=(e(22),e(3)),i=e.n(a),u=e(7),s=e(6),f=e(5),l=(e(24),e(0)),p=function(t){var n=t.note,e=t.toggleImportance,c=t.updateDate,o=t.removeNote,r=n.important?"make not important":"make important";return Object(l.jsxs)("li",{className:n.important?"noteLiBold":"noteLi",children:[Object(l.jsx)("span",{children:n.date.split("T")[0]}),Object(l.jsx)("span",{children:n.content}),Object(l.jsx)("button",{onClick:e,children:r}),Object(l.jsx)("button",{onClick:c,children:"Update date"}),Object(l.jsx)("button",{onClick:o,children:"Remove note"})]})};function d(){return Object(l.jsx)("footer",{style:{color:"grey",fontStyle:"italic",fontSize:16,position:"fixed",bottom:"16px"},children:Object(l.jsx)("em",{children:"Note app, Department of Computer Science, University of Helsini 2021"})})}var j=e(4),h=e.n(j),b="api/notes",m=function(){return h.a.get(b).then((function(t){return t.data}))},O=function(t){return h.a.post(b,t).then((function(t){return t.data}))},x=function(t,n){return h.a.put("".concat(b,"/").concat(t,"/importance"),n).then((function(t){return t.data}))},v=function(t,n){return h.a.put("".concat(b,"/").concat(t,"/date"),n).then((function(t){return t.data}))},g=function(t,n){return h.a.delete("".concat(b,"/").concat(t),n),h.a.get(b)};var w=function(){var t=Object(c.useState)([]),n=Object(f.a)(t,2),e=n[0],o=n[1],r=Object(c.useState)(""),a=Object(f.a)(r,2),j=a[0],h=a[1],b=Object(c.useState)(!0),w=Object(f.a)(b,2),y=w[0],k=w[1],S=Object(c.useState)(null),N=Object(f.a)(S,2),C=N[0],D=N[1];function I(){return F.apply(this,arguments)}function F(){return(F=Object(s.a)(i.a.mark((function t(){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:m().then((function(t){o(t)})).catch((function(t){console.log("Failed to Load Notes",t)}));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function L(){return(L=Object(s.a)(i.a.mark((function t(n){var c,r,a;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:c=e.find((function(t){return t.id===n})),r=(new Date).toISOString(),(a=Object(u.a)({},c)).date=r,v(n,a).then((function(t){o(e.map((function(e){return e.id!==n?e:t})))})).catch((function(t){D("Note ".concat(c.content,"'s was already removed"))})).finally(setTimeout((function(){D(null)}),5e3)),o(e.filter((function(t){return t.id!==n})));case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function U(){return(U=Object(s.a)(i.a.mark((function t(n){var c;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=e.find((function(t){return t.id===n})),t.next=3,g(n,c).then(I()).catch((function(t){console.log("Failed to Delete note",t)}));case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}Object(c.useEffect)((function(){I()}),[]);var A=y?e:e.filter((function(t){return t.important}));return Object(l.jsxs)("div",{className:"App",children:[Object(l.jsx)("h1",{children:"Notes"}),C?Object(l.jsx)("h2",{children:C.message}):"",Object(l.jsx)("div",{children:Object(l.jsxs)("button",{onClick:function(){k(!y)},children:["show ",y?"important":"all"]})}),Object(l.jsx)("ul",{children:A.map((function(t){return Object(l.jsx)(p,{note:t,toggleImportance:function(){return function(t){var n=e.find((function(n){return n.id===t})),c=Object(u.a)(Object(u.a)({},n),{},{important:!n.important});x(t,c).then((function(n){o(e.map((function(e){return e.id!==t?e:n})))})).catch((function(t){console.log("Failed to Update Importance",t)}))}(t.id)},updateDate:function(){return function(t){return L.apply(this,arguments)}(t.id)},removeNote:function(){return function(t){return U.apply(this,arguments)}(t.id)}},t.id)}))}),Object(l.jsxs)("form",{onSubmit:function(t){t.preventDefault();var n={content:j,date:(new Date).toISOString(),important:Math.random()<.4};O(n).then((function(t){o(e.concat(t)),h(""),D(null)})).catch((function(t){console.log("Failed to Create New Note",t),D(t)}))},children:[Object(l.jsx)("input",{value:j,onChange:function(t){h(t.target.value)},placeholder:"A new note..."}),Object(l.jsx)("button",{type:"submit",children:"save note"})]}),Object(l.jsx)(d,{})]})};r.a.render(Object(l.jsx)(w,{}),document.getElementById("root"))}},[[44,1,2]]]);
//# sourceMappingURL=main.addf504d.chunk.js.map